# ChatTool

2年後期ツール製作の授業で作成する、WPFでのSlackのようなchat toolのサンプル。

できるだけSlackのダークモードの画面に似るように作りました。

## 環境構築手順
### DB

1. [ER図](https://github.com/human-osaka-game-2018/NWAndToolHomework/blob/master/ChatToolERDiagram/Ver_1_1/ChatToolERParagraph.mwb) からDBを構築する。
2. SQL/リアクションマスタデータ挿入.sql を実行してDB変更点の反映とリアクションマスタデータの挿入を行う。  
   `m_reaction.reaction_name` のサイズを128に増やすという変更を行っています。
3. ソリューションのapp.configを開き、 `connectionStrings` にDB接続文字列を設定する。
4. `m_user`, `m_channel`, `m_channel_member` の各テーブルに、ユーザとチャンネルのデータを入れる。  
    ユーザ、チャンネルの設定機能は未実装のため、DBへ直接設定を行って下さい。

### ユーザアイコン画像
1. 起動するexeと同じフォルダに「Resources\UserIcons」フォルダを作成する。
2. 存在するユーザの数分、上記フォルダ内にユーザIDを5桁になるように0埋めした文字列(ex.00001)のフォルダを作成する。
3. 上記フォルダ内に各ユーザと対応するアイコン画像（拡張子指定なし）を配置する。  
    ユーザアイコンの変更機能は未実装のため、ファイルを直接変更して下さい。

アイコン画像保存フォルダはapp.configの `userIconDirectoryPath` で設定しています。  
必要に応じて変更して下さい。


## 機能概要
以下の機能を実装しました。
1. チャンネル選択
2. メッセージ投稿
3. スレッド機能
4. スレッド表示画面
5. 絵文字リアクション機能
6. 他ユーザからの投稿、リアクションをリアルタイム(5秒毎)に更新  
    (再描画のみで、新着通知は未実装)

設定画面や、メッセージの編集、削除機能はありません。